##fread()、readfile()、file_get_contents()、 fgets()

fread() 最大一次性能读取 8k长度的字节数，所以不能一次性读取大文件去作下载。 优势在于，操作更加灵活，每次读取指定字节的内容，用于下载时方便控制服务器的流量。readfile() 优势是能够一次性读取大文件；不需要PHP预读到内存，下载速度更快，直接把文件的处理交由服务器。缺点就是不能控制负载。所以它是没有内存限制的，如果遇到报内存错误，先调用 ob_end_flush()之类的函数关闭缓冲区。

file_get_contents 也是没 readfile()快， 因为也是走了php的内存。但是在读取小文本内容到字符串变量时，这个函数最适合使用，简单，更快。

fgets() 是一次读取文件中的一行了，再需要逐行处理文件的时候，使用这个

##正则

正则表达式就是一个匹配的模式，正则表达式本身也就是一个字符串（有一些语法规则，特殊符号组成）

正则表达式这个字符串一定要在对应的函数中使用才有意义（分割，替换函数结合使用）

1、定界符   / /

2、原子    最小的一个匹配单元（放在 / / 中，在正则表达式中，至少有一个。例如：$reg = '/ 7 /' ）

3、元字符   元字符是不能单独使用的，用来修饰元子的，用来扩展原子功能和限字的做补充说明（协助定界符中 例如：$reg = '/{5}/' ）

4、模式修正符  修正，对模式（正则）修正（写在定界符的外面，写在右边 例如： $reg = '/ {5} / i ' 中的i）

 

一、界定符号

　　界定符就表示一个正则表达式的开始和结束

　　例如：/[0-9]/   |  #[0-9]#  | {[0-9]}  常用写法建议使用斜杠；//  $pattern = '/[0-9]/'

二、原子

   可见原子：   
   　　1、标点符号； ‘’  _ ? . 等等

　　　　2、英文字母数字 a-z, A-Z, 0-9

　　　　3、汉语，日文，阿拉伯文等其他文字

　　　　4、数理化公司符号

　　　　5、其他可见字符

　　不可见原子：

　　　　1、换行符 \n

　　　　2、回车 \r

　　　　3、制表符 \t

　　　　4、空格

　　　　5、其他看不见的符号

　　(所有的数字，所有的字，所有的空白，所有的字母，特殊符号 如下)

　　.  匹配除换行符之外的任意字符

　　\d  (所有的数字) 代表任意一个数字   [ 0-9 ]

　　\D (代表所有非数字) 代表任何一个非数字 [ ^0-9 ]　　

　　\w 代表任意一个字，a-z A-Z, 0-9 _    [ a-zA-Z0-9_]

　　\W 代表任意一个非字，a-z A-Z 0-9 _ 之外的所有字符   [ ^ a-zA-Z0-9_ ]

　　\s  代表空白    [ \t \n \f \v ]

　　\S 代表任意一个非空白  [^ \t \n \f \v ]

　　自定义原子表

　　　　[ 13579 ] 

　　　　[ a-zA-Z]     说明：- 是从哪到哪

　　　　[ ^a-zA-Z ]  说明： ^ 是除了什么

　　说明：（ . ） 点， 能代表所有的一个原子

三、元字符

　　元字符这个不能在正则表达式中单独使用，用来修饰原子的

　　元字符 即原子的筛选方式

　　* 用来修饰前面的原子可以出现 0 个 1 个 或者 多个

　　+ 用来修饰前面的原子出现的次数 1 次 或 多次 （不能没有一次）

　　？用来修饰前面的原子出现的次数 0 次 或 1次

　　{ m }  用来修饰前面的原子出现 m 次，多一次少一次都不行

　　{ n, m } 用来修饰前面的原子出现的个数，在 n 到 m 之间，包含 n, m

　　{ n, } 用来修饰前面的原子可以出现至少 n 次，包含 n

　　|  或的关系，表示它两边的原子，只有有一个出现就可以，但是 | 的优先级最低

　　^ 和 \A 表示必须以什么开始，必须写在正则表达式的前面

　　$ 和 \Z 表示必须以什么结束，必须写在正则表达式的后面

　　\b  单词边界

　　\B  非单词边界

　（）第一个作用：改变优先级别

　　　　$str = ' orisaabc';

　　　　$reg = '/ or（is|a）abc/';

　　　第二个作用：将小原子变成大原子

　　　　$str = 'sqlsalabcsqlddfd';

　　　　$reg = '/(sql)*/';

　　    第三个作用：子模式，整个表达式是一个大模式，小括号中的是每一个独立的子模式

　　    第四个作用：反向引用

　？： 取消子模式,作为大模式用（？：\d{4}）

　\1　取子模式

四、模式修正符

　　模式修正符要放在定界符之外，放在右边，模式修正符一个字符就是一个功能，可以组合使用；

　　例如： “/ go*gle/ i ”;     "/go*gle/ ieu";

　　作用：

　　　　模式修正符号可以修正正则表达式的解释，或者扩充正则表达式的功能；

　　i    不区分大小写（默认是区分大小写）

　　m  修正符号修正正则表达式可以视为多行，在使用 ^ 或 $ 时每一行满足都可以（默认为一行）

　　s   用来修正正则表达式中的换行符号，是包含换行符，不用 s 则不包含换行符，默认不包含换行符

　　x   忽略修正正则表达式可以省略多个单词之间的空白

　　U   (.* , .+) 正则表达式比较贪婪，.*?  和  .+？可以取消贪婪